"use strict";TetraBloc.FinJeu=function(e){this.score,this.meilleurScore},TetraBloc.FinJeu.prototype={init:function(e){this.score=e},create:function(){this.game.stage.backgroundColor=0,document.body.style.backgroundColor="#000",this.enregisterScore();var e="bold "+Math.round(64*TetraBloc.RATIO_ECRAN.moyen)+"px Arial",t={font:e,fill:"#FFFFFF",align:"center"},o=this.game.add.text(this.game.width/2,50,"FIN DU JEU\n",t);o.anchor.set(.5,0);var r=(this.game.add.tween(o.scale).to({x:1.25,y:1.1},1e4,Phaser.Easing.None,!0,0,-1,!0),this.game.add.tween(o).to({rotation:this.game.math.degToRad(15)},5e3,Phaser.Easing.None,!0,0,-1,!0),"bold "+Math.round(32*TetraBloc.RATIO_ECRAN.moyen)+"px Arial"),a={font:r,fill:"#FFFFFF",align:"center"},i="Votre score:\n";i+=this.score+" point(s)\n\n";var n=this.game.add.text(this.game.width/2,this.game.height/3,i,a);n.anchor.set(.5);var i="Votre meilleur score:\n";i+=this.meilleurScore+" point(s)\n\n";var n=this.game.add.text(this.game.width/2,this.game.height/2,i,a);n.anchor.set(.5);var l=this.game.add.button(this.game.width/2,this.game.height/1.75,"jouerBtn",this.rejouer,this,1,0,2,0);l.anchor.set(.5),l.scale.set(TetraBloc.RATIO_ECRAN.moyen,TetraBloc.RATIO_ECRAN.moyen);var s="bold "+Math.round(18*TetraBloc.RATIO_ECRAN.moyen)+"px Arial",c={font:s,fill:"#DDDDDD",align:"center"},i="Créé par Marie-Maxime Tanguay\nCollège de Maisonneuve\nInspiré par le jeu Tetris\n\nMusique par Mark Sparling sur:\nhttp://marksparling.com/\n\nSon pop: freesound.org/people/ThompsonMan/sounds/129994/\nSon clique: freesound.org/people/kwahmah_02/sounds/256116/\nSon niveau: freesound.org/people/GameAudio/sounds/220168/",h=this.game.add.text(this.game.width/2,this.game.height/1.3,i,c);h.anchor.set(.5)},rejouer:function(){this.game.state.start("instruction")},enregisterScore:function(){switch(TetraBloc.mode){case 0:(localStorage.TetraBlocInfini<this.score||null==localStorage.TetraBlocInfini)&&(localStorage.TetraBlocInfini=this.score),this.meilleurScore=localStorage.TetraBlocInfini;break;case 1:(localStorage.TetraBlocSurvie<this.score||null==localStorage.TetraBlocSurvie)&&(localStorage.TetraBlocSurvie=this.score),this.meilleurScore=localStorage.TetraBlocSurvie;break;case 2:(localStorage.TetraBlocExtreme<this.score||null==localStorage.TetraBlocExtreme)&&(localStorage.TetraBlocExtreme=this.score),this.meilleurScore=localStorage.TetraBlocExtreme;break;default:return}}};